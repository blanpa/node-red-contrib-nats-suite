# NATS Embedded Server Configuration
# For use with nats-suite-server-manager node

# Server name (required for MQTT and JetStream clustering)
server_name: nats-embedded

# Port for client connections
port: 4223

# HTTP Monitoring Port
http_port: 8223

# MQTT Bridge
mqtt {
  port: 1884
}

# WebSocket Support (for browser clients)
websocket {
  port: 8080
  no_tls: true
}

# Enable JetStream (required for MQTT, KV Store, Object Store)
jetstream {
  store_dir: "/tmp/nats-jetstream"
  max_mem_store: 268435456    # 256MB
  max_file_store: 1073741824  # 1GB
}

# Logging
logtime: true
debug: false
trace: false

# Connection limits
max_connections: 1000
max_payload: 1048576  # 1MB

# Ping interval (for keep-alive)
ping_interval: 120s
ping_max: 2

# No TLS for embedded server (use for development only)
# For production, enable TLS:
# tls {
#   cert_file: "/path/to/server-cert.pem"
#   key_file: "/path/to/server-key.pem"
#   ca_file: "/path/to/ca.pem"
# }

# No authentication for embedded server (use for development only)
# For production, enable authentication:
# authorization {
#   user: "admin"
#   password: "secret"
# }
# Or use token:
# authorization {
#   token: "my-secret-token"
# }
